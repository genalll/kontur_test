# Задача
В Контуре мы много работаем с документами: арбитражные иски, госзакупки, исполнительные производства. В данном задании мы предлагаем вам сделать модель, которая поможет отделу госзакупок извлекать 
нужный кусок текста из документа для того, чтобы сформировать анкету заявки. То, какой именно фрагмент текста нужно извлечь, зависит от пункта анкеты, соответствующего документу.
Всего в каждом документе, с которыми вы будет работать, есть 1 из 2-х пунктов анкеты, по которым необходимо извлекать кусочки из текста:
- обеспечение исполнения контракта
- обеспечение гарантийных обязательств

Соответственно, ваша модель, принимая на вход `текст документа` и `наименование одного из двух пунктов`, должна возвращать `соответствующий кусочек текста из текста документа`.

# Данные

### train.json 
Данные для обучения в формате json имеют следующие поля:
- `id`: int - id документа
-  `text`: str - текст документа, в котором может содержаться фрагмент текста, соответствующий пункту анкеты из поля `label`
- `label`: str - название пункта анкеты. Может принимать одно из двух значений: `обеспечение исполнения контракта` или `обеспечение гарантийных обязательств`
- `extracted_part`: dict следующего формата:
    ```
    {
        'text': [фрагмент текста из поля `text`, соответствующий пункту анкеты], 
        'answer_start': [индекс символа начала фрагмента текста в тексте документа],
        'answer_end': [индекс символа конца фрагмента текста в тексте документа]
    }
   ```


# Решение

## Сделано:
   
   * Данные загружены, предобработаны, произведено EDA.
   * обнаружены и удалены выбросы в текстах и искомых фрагментах.
   * Искомые фрагменты в большинстве случаев однотипны и могут быть описаны регулярными выражениями или паттернами nlp.
   * Accuracy не прибегая к машинному обучению может составлять до 0.74, простым написанием 10 регулярных выражений или паттернов nlp.
   * Учитывая характер разметки данных, будем использовать spacy.
   
## Обучение

   * Обучение модели проходило на представленных в train данных в два этапа, сначала с валидационной выборкой. Переобучения не обнаружено! Затем модель доучена на оставшихся данных из валидационной выборки.

   * Обученная spacy модель умеет находить в тексте именованные сущности 2-х типов: 'обеспечение гарантийных      обязательств', 'обеспечение исполнения контракта'.
   
   

## Вывод: 
   * В целом модель отрабатывает и находит сущности.
   * Точность на обучающей выборке до 96%.
   * Тестовую по правилам в обучении не задействовали.
   * В наших ответах на 10% больше нулевых результатов, чем в обучающей выборке. Причем при визульном осмотре таких образцов извлечение сущности кажется возможным.
   * Остаются вопросы к разметке данных. Некоторые сущности отличаются только бессмысленными знаками препенания и могут сильно уронить accuracy.
   * predictions.json валиден, формат соответствует train.json.
   
### Зависимости в requirements.txt.